{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/@firebase/performance/dist/index.cjs.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/@firebase/installations/dist/index.esm.js","webpack:///./node_modules/idb/build/idb.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/firebase/performance/dist/index.esm.js"],"names":["LIBRARY","global","fails","$export","$typed","$buffer","ctx","anInstance","propertyDesc","hide","redefineAll","toInteger","toLength","toIndex","toAbsoluteIndex","toPrimitive","has","classof","isObject","toObject","isArrayIter","create","getPrototypeOf","gOPN","f","getIterFn","uid","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","dP","gOPD","RangeError","TypeError","Uint8Array","ArrayProto","Array","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","values","arrayKeys","keys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","join","arraySort","sort","arraySlice","slice","arrayToString","toString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","O","length","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","set","toOffset","it","BYTES","offset","validate","C","speciesFromList","list","fromList","index","result","addGetter","key","internal","get","this","_d","$from","source","i","step","iterator","aLen","arguments","mapfn","undefined","mapping","iterFn","call","next","done","push","value","$of","TO_LOCALE_BUG","$toLocaleString","apply","proto","copyWithin","target","start","every","callbackfn","fill","filter","find","predicate","findIndex","forEach","indexOf","searchElement","includes","separator","map","reverse","middle","Math","floor","some","comparefn","subarray","begin","end","$begin","byteOffset","BYTES_PER_ELEMENT","$slice","$set","arrayLike","src","len","$iterators","isTAIndex","String","$getDesc","$setDesc","desc","configurable","writable","enumerable","S","F","getOwnPropertyDescriptor","defineProperty","$TypedArrayPrototype$","constructor","module","exports","KEY","wrapper","CLAMPED","NAME","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","addElement","that","data","v","o","getter","round","setter","$offset","$length","byteLength","klass","$len","b","l","e","iter","Function","prototype","concat","$nativeIterator","CORRECT_ITER_NAME","name","$iterator","G","W","of","from","P","DESCRIPTORS","setToStringTag","PROTOTYPE","WRONG_INDEX","Infinity","BaseBuffer","abs","pow","log","LN2","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","m","c","eLen","eMax","eBias","rt","s","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","intIndex","store","_b","pack","conversion","ArrayBufferProto","j","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","context","$startsWith","startsWith","searchString","min","search","number","Typed","TypedArrayConstructors","split","init","endPos","Object","ex","firebase","tslib","util","_a","apiInstance","windowInstance","settingsServiceInstance","logger$1","SDK_VERSION","TRACE_START_MARK_PREFIX","TRACE_STOP_MARK_PREFIX","TRACE_MEASURE_PREFIX","OOB_TRACE_PAGE_LOAD_PREFIX","CONFIG_LOCAL_STORAGE_KEY","CONFIG_EXPIRY_LOCAL_STORAGE_KEY","ERROR_DESCRIPTION_MAP","ERROR_FACTORY","ErrorFactory","Api","window","performance","PerformanceObserver","windowLocation","location","navigator","document","cookieEnabled","localStorage","perfMetrics","onFirstInputDelay","getUrl","href","mark","measure","measureName","mark1","mark2","getEntriesByType","type","getEntriesByName","getTimeOrigin","timeOrigin","timing","navigationStart","requiredApisAvailable","fetch","Promise","setupObserver","entryType","callback","_i","getEntries","entry","observe","entryTypes","getInstance","iid","VisibilityState","SettingsService","instrumentationEnabled","dataCollectionEnabled","loggingEnabled","tracesSamplingRate","networkRequestsSamplingRate","logEndPointUrl","logSource","logTraceAfterSampling","logNetworkAfterSampling","configTimeToLive","getAppId","appId","firebaseAppInstance","options","getProjectId","projectId","getApiKey","apiKey","getIid","RESERVED_ATTRIBUTE_PREFIXES","ATTRIBUTE_FORMAT_REGEX","RegExp","MAX_ATTRIBUTE_NAME_LENGTH","MAX_ATTRIBUTE_VALUE_LENGTH","getServiceWorkerStatus","serviceWorker","controller","getVisibilityState","visibilityState","VISIBLE","HIDDEN","UNKNOWN","getEffectiveConnectionType","navigatorConnection","connection","effectiveType","consoleLogger","Logger","logLevel","LogLevel","INFO","REMOTE_CONFIG_SDK_VERSION","SECONDARY_CONFIGS","FIS_AUTH_PREFIX","getConfig","config","expiryString","getItem","expiry","Number","Date","now","configStringified","JSON","parse","getStoredConfig","processConfig","resolve","authTokenPromise","installations","getToken","then","authTokenVal","authToken","configEndPoint","request","Request","method","headers","Authorization","body","stringify","app_instance_id","app_instance_id_token","app_id","app_version","sdk_version","response","ok","json","info","COULD_NOT_GET_CONFIG_MSG","getRemoteConfig","setItem","storeConfig","fpr_enabled","fpr_log_source","fpr_log_endpoint_url","fpr_vc_network_request_sampling_rate","fpr_vc_trace_sampling_rate","shouldLogAfterSampling","samplingRate","random","initializationPromise","initializationStatus","getInitializationPromise","readyState","addEventListener","handler_1","removeEventListener","iidPromise","getId","iidVal","changeInitializationStatus","logger","DEFAULT_SEND_INTERVAL_MS","DEFAULT_REMAINING_TRIES","remainingTries","queue","addToQueue","evt","eventTime","message","__spreadArrays","getLogger","ccLogger","serializer","_loggerInstance","_level","args","ccHandler","logHandler","logTrace","trace","settingsService","isAuto","sendTraceLog","setTimeout","resource","resourceType","networkRequestMetric","url","networkRequest","http_method","httpMethod","http_response_code","response_payload_bytes","responsePayloadBytes","client_start_time_us","startTimeUs","time_to_response_initiated_us","timeToResponseInitiatedUs","time_to_response_completed_us","timeToResponseCompletedUs","perfMetric","application_info","getApplicationInfo","network_request_metric","traceMetric","is_auto","duration_us","durationUs","counters","convertToKeyValueArray","customAttributes","getAttributes","custom_attributes","trace_metric","serializeTrace","google_app_id","web_app_info","page_url","service_worker_status","visibility_state","effective_connection_type","application_process_state","obj","processQueue","timeOffset","staged","log_event","source_extension_json","event_time_ms","request_time_ms","client_info","client_type","js_client_info","log_source","res","wait","next_request_wait_millis","requestOffset","isNaN","max","MAX_METRIC_NAME_LENGTH","RESERVED_AUTO_PREFIX","oobMetrics","Trace","traceMeasureName","state","api","randomId","traceStartMark","traceStopMark","traceMeasure","calculateTraceMetrics","traceName","stop","record","startTime","duration","attributes","__assign","metrics","metric","incrementMetric","counter","num","putMetric","customMetricName","getMetric","putAttribute","attr","isValidName","prefix","match","isValidValue","isValidCustomAttributeValue","attributeName","attributeValue","getAttribute","removeAttribute","setStartTime","setDuration","perfMeasureEntries","perfMeasureEntry","createOobTrace","navigationTimings","paintTimings","firstInputDelay","route","timeOriginUs","domInteractive","domContentLoadedEventEnd","loadEventEnd","firstPaint","paintObject","firstContentfulPaint","createUserTimingTrace","createNetworkRequestEntry","performanceEntry","responseStart","responseEnd","logNetworkRequest","transferSize","FID_WAIT_TIME_MS","setupOobResources","timeoutId_1","fid","clearTimeout","setupOobTraces","resources","resources_1","setupNetworkRequests","measures","measures_1","setupUserTimingTraces","substring","PerformanceController","app","val","DEFAULT_ENTRY_NAME","registerPerformance","instance","INTERNAL","registerService","setupApi","$find","forced","PENDING_TIMEOUT_MS","PACKAGE_VERSION","INTERNAL_AUTH_VERSION","INSTALLATIONS_API_URL","TOKEN_EXPIRATION_BUFFER","isServerError","error","code","extractAppConfig","e_1","getMissingValueError","configKeys_1","configKeys_1_1","keyName","e_1_1","appName","valueName","getInstallationsEndpoint","extractAuthTokenInfoFromResponse","token","requestStatus","expiresIn","responseExpiresIn","replace","creationTime","getErrorFromResponse","requestName","responseJson","errorData","label","sent","serverCode","serverMessage","serverStatus","status","getHeaders","Headers","Accept","getHeadersWithAuth","appConfig","refreshToken","append","getAuthorizationHeader","retryIfServerError","fn","createInstallation","endpoint","responseValue","authVersion","sdkVersion","registrationStatus","sleep","ms","VALID_FID_PATTERN","INVALID_FID","generateFid","fidByteArray","self","crypto","msCrypto","getRandomValues","array","btoa","fromCharCode","substr","encode","test","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","getDbPromise","upgradeDB","oldVersion","createObjectStore","db","tx","getKey","transaction","objectStore","put","complete","remove","update","updateFn","oldValue","newValue","getInstallationEntry","registrationPromise","installationEntry","oldEntry","clearTimedOutRequest","updateOrCreateInstallationEntry","entryWithPromise","onLine","registrationPromiseWithError","reject","inProgressEntry","registrationTime","registeredInstallationEntry","trys","registerInstallation","waitUntilFidRegistration","triggerRegistrationIfNecessary","updateInstallationRequest","generateAuthToken","getGenerateAuthTokenEndpoint","installation","refreshAuthToken","forceRefresh","tokenPromise","isEntryRegistered","oldAuthToken","isAuthTokenExpired","isAuthTokenValid","updateAuthTokenRequest","waitUntilAuthTokenRequest","inProgressAuthToken","requestTime","makeAuthTokenRequestInProgressEntry","updatedInstallationEntry","fetchAuthTokenFromServer","completeInstallationRegistration","deleteInstallation","getDeleteEndpoint","registerInstallations","console","_getId","_getToken","deleteInstallation$1","toArray","arr","promisifyRequest","onsuccess","onerror","promisifyRequestCall","p","promisifyCursorRequestCall","Cursor","proxyProperties","ProxyClass","targetProp","properties","prop","proxyRequestMethods","Constructor","proxyMethods","proxyCursorRequestMethods","Index","_index","cursor","_cursor","_request","ObjectStore","_store","Transaction","idbTransaction","_tx","oncomplete","onabort","UpgradeDB","_db","DB","IDBIndex","IDBCursor","methodName","createIndex","IDBObjectStore","IDBTransaction","IDBDatabase","funcName","nativeObject","getAll","query","count","items","iterateCursor","openDb","version","upgradeCallback","indexedDB","onupgradeneeded","event","deleteDb","factory","to","inc"],"mappings":"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","file":"20-3ce7748d430035970eca.js","sourcesContent":["'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.string.starts-with\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar firebase = _interopDefault(require('@firebase/app'));\n\nvar tslib = require('tslib');\n\nvar util = require('@firebase/util');\n\nrequire('@firebase/installations');\n\nvar logger$1 = require('@firebase/logger');\n\nvar version = \"0.2.26\";\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar SDK_VERSION = version;\n/** The prefix for start User Timing marks used for creating Traces. */\n\nvar TRACE_START_MARK_PREFIX = 'FB-PERF-TRACE-START';\n/** The prefix for stop User Timing marks used for creating Traces. */\n\nvar TRACE_STOP_MARK_PREFIX = 'FB-PERF-TRACE-STOP';\n/** The prefix for User Timing measure used for creating Traces. */\n\nvar TRACE_MEASURE_PREFIX = 'FB-PERF-TRACE-MEASURE';\n/** The prefix for out of the box page load Trace name. */\n\nvar OOB_TRACE_PAGE_LOAD_PREFIX = '_wt_';\nvar FIRST_PAINT_COUNTER_NAME = '_fp';\nvar FIRST_CONTENTFUL_PAINT_COUNTER_NAME = '_fcp';\nvar FIRST_INPUT_DELAY_COUNTER_NAME = '_fid';\nvar CONFIG_LOCAL_STORAGE_KEY = '@firebase/performance/config';\nvar CONFIG_EXPIRY_LOCAL_STORAGE_KEY = '@firebase/performance/configexpire';\nvar SERVICE = 'performance';\nvar SERVICE_NAME = 'Performance';\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar _a;\n\nvar ERROR_DESCRIPTION_MAP = (_a = {}, _a[\"trace started\"\n/* TRACE_STARTED_BEFORE */\n] = 'Trace {$traceName} was started before.', _a[\"trace stopped\"\n/* TRACE_STOPPED_BEFORE */\n] = 'Trace {$traceName} is not running.', _a[\"no window\"\n/* NO_WINDOW */\n] = 'Window is not available.', _a[\"no app id\"\n/* NO_APP_ID */\n] = 'App id is not available.', _a[\"no project id\"\n/* NO_PROJECT_ID */\n] = 'Project id is not available.', _a[\"no api key\"\n/* NO_API_KEY */\n] = 'Api key is not available.', _a[\"invalid cc log\"\n/* INVALID_CC_LOG */\n] = 'Attempted to queue invalid cc event', _a[\"FB not default\"\n/* FB_NOT_DEFAULT */\n] = 'Performance can only start when Firebase app instance is the default one.', _a[\"RC response not ok\"\n/* RC_NOT_OK */\n] = 'RC response is not ok', _a[\"invalid attribute name\"\n/* INVALID_ATTRIBUTE_NAME */\n] = 'Attribute name {$attributeName} is invalid.', _a[\"invalid attribute value\"\n/* INVALID_ATTRIBUTE_VALUE */\n] = 'Attribute value {$attributeValue} is invalid.', _a[\"invalide custom metric name\"\n/* INVALID_CUSTOM_METRIC_NAME */\n] = 'Custom metric name {$customMetricName} is invalid', _a);\nvar ERROR_FACTORY = new util.ErrorFactory(SERVICE, SERVICE_NAME, ERROR_DESCRIPTION_MAP);\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar apiInstance;\nvar windowInstance;\n/**\r\n * This class holds a reference to various browser related objects injected by set methods.\r\n */\n\nvar Api =\n/** @class */\nfunction () {\n  function Api(window) {\n    if (!window) {\n      throw ERROR_FACTORY.create(\"no window\"\n      /* NO_WINDOW */\n      );\n    }\n\n    this.performance = window.performance;\n    this.PerformanceObserver = window.PerformanceObserver;\n    this.windowLocation = window.location;\n    this.navigator = window.navigator;\n    this.document = window.document;\n\n    if (this.navigator && this.navigator.cookieEnabled) {\n      // If user blocks cookies on the browser, accessing localStorage will throw an exception.\n      this.localStorage = window.localStorage;\n    }\n\n    if (window.perfMetrics && window.perfMetrics.onFirstInputDelay) {\n      this.onFirstInputDelay = window.perfMetrics.onFirstInputDelay;\n    }\n  }\n\n  Api.prototype.getUrl = function () {\n    // Do not capture the string query part of url.\n    return this.windowLocation.href.split('?')[0];\n  };\n\n  Api.prototype.mark = function (name) {\n    if (!this.performance || !this.performance.mark) {\n      return;\n    }\n\n    this.performance.mark(name);\n  };\n\n  Api.prototype.measure = function (measureName, mark1, mark2) {\n    if (!this.performance || !this.performance.measure) {\n      return;\n    }\n\n    this.performance.measure(measureName, mark1, mark2);\n  };\n\n  Api.prototype.getEntriesByType = function (type) {\n    if (!this.performance || !this.performance.getEntriesByType) {\n      return [];\n    }\n\n    return this.performance.getEntriesByType(type);\n  };\n\n  Api.prototype.getEntriesByName = function (name) {\n    if (!this.performance || !this.performance.getEntriesByName) {\n      return [];\n    }\n\n    return this.performance.getEntriesByName(name);\n  };\n\n  Api.prototype.getTimeOrigin = function () {\n    // Polyfill the time origin with performance.timing.navigationStart.\n    return this.performance && (this.performance.timeOrigin || this.performance.timing.navigationStart);\n  };\n\n  Api.prototype.requiredApisAvailable = function () {\n    if (fetch && Promise && this.navigator && this.navigator.cookieEnabled) {\n      return true;\n    }\n\n    return false;\n  };\n\n  Api.prototype.setupObserver = function (entryType, callback) {\n    if (!this.PerformanceObserver) {\n      return;\n    }\n\n    var observer = new this.PerformanceObserver(function (list) {\n      for (var _i = 0, _a = list.getEntries(); _i < _a.length; _i++) {\n        var entry = _a[_i]; // `entry` is a PerformanceEntry instance.\n\n        callback(entry);\n      }\n    }); // Start observing the entry types you care about.\n\n    observer.observe({\n      entryTypes: [entryType]\n    });\n  };\n\n  Api.getInstance = function () {\n    if (apiInstance === undefined) {\n      apiInstance = new Api(windowInstance);\n    }\n\n    return apiInstance;\n  };\n\n  return Api;\n}();\n\nfunction setupApi(window) {\n  windowInstance = window;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar settingsServiceInstance;\n\nvar SettingsService =\n/** @class */\nfunction () {\n  function SettingsService() {\n    // The variable which controls logging of automatic traces and HTTP/S network monitoring.\n    this.instrumentationEnabled = true; // The variable which controls logging of custom traces.\n\n    this.dataCollectionEnabled = true; // Configuration flags set through remote config.\n\n    this.loggingEnabled = false; // Sampling rate between 0 and 1.\n\n    this.tracesSamplingRate = 1;\n    this.networkRequestsSamplingRate = 1; // Address of logging service.\n\n    this.logEndPointUrl = 'https://firebaselogging.googleapis.com/v0cc/log?format=json_proto';\n    this.logSource = 462; // Flags which control per session logging of traces and network requests.\n\n    this.logTraceAfterSampling = false;\n    this.logNetworkAfterSampling = false; // TTL of config retrieved from remote config in hours.\n\n    this.configTimeToLive = 12;\n  }\n\n  SettingsService.prototype.getAppId = function () {\n    var appId = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.appId;\n\n    if (!appId) {\n      throw ERROR_FACTORY.create(\"no app id\"\n      /* NO_APP_ID */\n      );\n    }\n\n    return appId;\n  };\n\n  SettingsService.prototype.getProjectId = function () {\n    var projectId = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.projectId;\n\n    if (!projectId) {\n      throw ERROR_FACTORY.create(\"no project id\"\n      /* NO_PROJECT_ID */\n      );\n    }\n\n    return projectId;\n  };\n\n  SettingsService.prototype.getApiKey = function () {\n    var apiKey = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.apiKey;\n\n    if (!apiKey) {\n      throw ERROR_FACTORY.create(\"no api key\"\n      /* NO_API_KEY */\n      );\n    }\n\n    return apiKey;\n  };\n\n  SettingsService.getInstance = function () {\n    if (settingsServiceInstance === undefined) {\n      settingsServiceInstance = new SettingsService();\n    }\n\n    return settingsServiceInstance;\n  };\n\n  return SettingsService;\n}();\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar iid;\n\nfunction getIidPromise() {\n  var iidPromise = SettingsService.getInstance().firebaseAppInstance.installations().getId(); // eslint-disable-next-line @typescript-eslint/no-floating-promises\n\n  iidPromise.then(function (iidVal) {\n    iid = iidVal;\n  });\n  return iidPromise;\n} // This method should be used after the iid is retrieved by getIidPromise method.\n\n\nfunction getIid() {\n  return iid;\n}\n\nfunction getAuthTokenPromise() {\n  var authTokenPromise = SettingsService.getInstance().firebaseAppInstance.installations().getToken(); // eslint-disable-next-line @typescript-eslint/no-floating-promises\n\n  authTokenPromise.then(function (authTokenVal) {});\n  return authTokenPromise;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar VisibilityState;\n\n(function (VisibilityState) {\n  VisibilityState[VisibilityState[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n  VisibilityState[VisibilityState[\"VISIBLE\"] = 1] = \"VISIBLE\";\n  VisibilityState[VisibilityState[\"HIDDEN\"] = 2] = \"HIDDEN\";\n})(VisibilityState || (VisibilityState = {}));\n\nvar RESERVED_ATTRIBUTE_PREFIXES = ['firebase_', 'google_', 'ga_'];\nvar ATTRIBUTE_FORMAT_REGEX = new RegExp('^[a-zA-Z]\\\\w*$');\nvar MAX_ATTRIBUTE_NAME_LENGTH = 40;\nvar MAX_ATTRIBUTE_VALUE_LENGTH = 100;\n\nfunction getServiceWorkerStatus() {\n  var navigator = Api.getInstance().navigator;\n\n  if ('serviceWorker' in navigator) {\n    if (navigator.serviceWorker.controller) {\n      return 2\n      /* CONTROLLED */\n      ;\n    } else {\n        return 3\n        /* UNCONTROLLED */\n        ;\n      }\n  } else {\n      return 1\n      /* UNSUPPORTED */\n      ;\n    }\n}\n\nfunction getVisibilityState() {\n  var document = Api.getInstance().document;\n  var visibilityState = document.visibilityState;\n\n  switch (visibilityState) {\n    case 'visible':\n      return VisibilityState.VISIBLE;\n\n    case 'hidden':\n      return VisibilityState.HIDDEN;\n\n    default:\n      return VisibilityState.UNKNOWN;\n  }\n}\n\nfunction getEffectiveConnectionType() {\n  var navigator = Api.getInstance().navigator; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var navigatorConnection = navigator.connection;\n  var effectiveType = navigatorConnection && navigatorConnection.effectiveType;\n\n  switch (effectiveType) {\n    case 'slow-2g':\n      return 1\n      /* CONNECTION_SLOW_2G */\n      ;\n\n    case '2g':\n      return 2\n      /* CONNECTION_2G */\n      ;\n\n    case '3g':\n      return 3\n      /* CONNECTION_3G */\n      ;\n\n    case '4g':\n      return 4\n      /* CONNECTION_4G */\n      ;\n\n    default:\n      return 0\n      /* UNKNOWN */\n      ;\n  }\n}\n\nfunction isValidCustomAttributeName(name) {\n  if (name.length === 0 || name.length > MAX_ATTRIBUTE_NAME_LENGTH) {\n    return false;\n  }\n\n  var matchesReservedPrefix = RESERVED_ATTRIBUTE_PREFIXES.some(function (prefix) {\n    return name.startsWith(prefix);\n  });\n  return !matchesReservedPrefix && !!name.match(ATTRIBUTE_FORMAT_REGEX);\n}\n\nfunction isValidCustomAttributeValue(value) {\n  return value.length !== 0 && value.length <= MAX_ATTRIBUTE_VALUE_LENGTH;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar consoleLogger = new logger$1.Logger(SERVICE_NAME);\nconsoleLogger.logLevel = logger$1.LogLevel.INFO;\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar REMOTE_CONFIG_SDK_VERSION = '0.0.1'; // These values will be used if the remote config object is successfully\n// retrieved, but the template does not have these fields.\n\nvar SECONDARY_CONFIGS = {\n  loggingEnabled: true\n};\nvar FIS_AUTH_PREFIX = 'FIREBASE_INSTALLATIONS_AUTH';\n\nfunction getConfig(iid) {\n  var config = getStoredConfig();\n\n  if (config) {\n    processConfig(config);\n    return Promise.resolve();\n  }\n\n  return getRemoteConfig(iid).then(function (config) {\n    return processConfig(config);\n  }).then(function (config) {\n    return storeConfig(config);\n  },\n  /** Do nothing for error, use defaults set in settings service. */\n  function () {});\n}\n\nfunction getStoredConfig() {\n  var localStorage = Api.getInstance().localStorage;\n  var expiryString = localStorage.getItem(CONFIG_EXPIRY_LOCAL_STORAGE_KEY);\n\n  if (!expiryString || !configValid(expiryString)) {\n    return;\n  }\n\n  var configStringified = localStorage.getItem(CONFIG_LOCAL_STORAGE_KEY);\n\n  if (!configStringified) {\n    return;\n  }\n\n  try {\n    var configResponse = JSON.parse(configStringified);\n    return configResponse;\n  } catch (_a) {\n    return;\n  }\n}\n\nfunction storeConfig(config) {\n  if (!config) {\n    return;\n  }\n\n  var localStorage = Api.getInstance().localStorage;\n  localStorage.setItem(CONFIG_LOCAL_STORAGE_KEY, JSON.stringify(config));\n  localStorage.setItem(CONFIG_EXPIRY_LOCAL_STORAGE_KEY, String(Date.now() + SettingsService.getInstance().configTimeToLive * 60 * 60 * 1000));\n}\n\nvar COULD_NOT_GET_CONFIG_MSG = 'Could not fetch config, will use default configs';\n\nfunction getRemoteConfig(iid) {\n  // Perf needs auth token only to retrieve remote config.\n  return getAuthTokenPromise().then(function (authToken) {\n    var projectId = SettingsService.getInstance().getProjectId();\n    var configEndPoint = \"https://firebaseremoteconfig.googleapis.com/v1/projects/\" + projectId + \"/namespaces/fireperf:fetch?key=\" + SettingsService.getInstance().getApiKey();\n    var request = new Request(configEndPoint, {\n      method: 'POST',\n      headers: {\n        Authorization: FIS_AUTH_PREFIX + \" \" + authToken\n      },\n\n      /* eslint-disable camelcase */\n      body: JSON.stringify({\n        app_instance_id: iid,\n        app_instance_id_token: authToken,\n        app_id: SettingsService.getInstance().getAppId(),\n        app_version: SDK_VERSION,\n        sdk_version: REMOTE_CONFIG_SDK_VERSION\n      })\n      /* eslint-enable camelcase */\n\n    });\n    return fetch(request).then(function (response) {\n      if (response.ok) {\n        return response.json();\n      } // In case response is not ok. This will be caught by catch.\n\n\n      throw ERROR_FACTORY.create(\"RC response not ok\"\n      /* RC_NOT_OK */\n      );\n    });\n  })[\"catch\"](function () {\n    consoleLogger.info(COULD_NOT_GET_CONFIG_MSG);\n    return undefined;\n  });\n}\n/**\r\n * Processes config coming either from calling RC or from local storage.\r\n * This method only runs if call is successful or config in storage\r\n * is valie.\r\n */\n\n\nfunction processConfig(config) {\n  if (!config) {\n    return config;\n  }\n\n  var settingsServiceInstance = SettingsService.getInstance();\n  var entries = config.entries || {};\n\n  if (entries.fpr_enabled !== undefined) {\n    // TODO: Change the assignment of loggingEnabled once the received type is known.\n    settingsServiceInstance.loggingEnabled = String(entries.fpr_enabled) === 'true';\n  } else {\n    // Config retrieved successfully, but there is no fpr_enabled in template.\n    // Use secondary configs value.\n    settingsServiceInstance.loggingEnabled = SECONDARY_CONFIGS.loggingEnabled;\n  }\n\n  if (entries.fpr_log_source) {\n    settingsServiceInstance.logSource = Number(entries.fpr_log_source);\n  }\n\n  if (entries.fpr_log_endpoint_url) {\n    settingsServiceInstance.logEndPointUrl = entries.fpr_log_endpoint_url;\n  }\n\n  if (entries.fpr_vc_network_request_sampling_rate !== undefined) {\n    settingsServiceInstance.networkRequestsSamplingRate = Number(entries.fpr_vc_network_request_sampling_rate);\n  }\n\n  if (entries.fpr_vc_trace_sampling_rate !== undefined) {\n    settingsServiceInstance.tracesSamplingRate = Number(entries.fpr_vc_trace_sampling_rate);\n  } // Set the per session trace and network logging flags.\n\n\n  settingsServiceInstance.logTraceAfterSampling = shouldLogAfterSampling(settingsServiceInstance.tracesSamplingRate);\n  settingsServiceInstance.logNetworkAfterSampling = shouldLogAfterSampling(settingsServiceInstance.networkRequestsSamplingRate);\n  return config;\n}\n\nfunction configValid(expiry) {\n  return Number(expiry) > Date.now();\n}\n\nfunction shouldLogAfterSampling(samplingRate) {\n  return Math.random() <= samplingRate;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar initializationStatus = 1\n/* notInitialized */\n;\nvar initializationPromise;\n\nfunction getInitializationPromise() {\n  initializationStatus = 2\n  /* initializationPending */\n  ;\n  initializationPromise = initializationPromise || initializePerf();\n  return initializationPromise;\n}\n\nfunction isPerfInitialized() {\n  return initializationStatus === 3\n  /* initialized */\n  ;\n}\n\nfunction initializePerf() {\n  return getDocumentReadyComplete().then(function () {\n    return getIidPromise();\n  }).then(function (iid) {\n    return getConfig(iid);\n  }).then(function () {\n    return changeInitializationStatus();\n  }, function () {\n    return changeInitializationStatus();\n  });\n}\n/**\r\n * Returns a promise which resolves whenever the document readystate is complete or\r\n * immediately if it is called after page load complete.\r\n */\n\n\nfunction getDocumentReadyComplete() {\n  var document = Api.getInstance().document;\n  return new Promise(function (resolve) {\n    if (document && document.readyState !== 'complete') {\n      var handler_1 = function handler_1() {\n        if (document.readyState === 'complete') {\n          document.removeEventListener('readystatechange', handler_1);\n          resolve();\n        }\n      };\n\n      document.addEventListener('readystatechange', handler_1);\n    } else {\n      resolve();\n    }\n  });\n}\n\nfunction changeInitializationStatus() {\n  initializationStatus = 3\n  /* initialized */\n  ;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar DEFAULT_SEND_INTERVAL_MS = 10 * 1000;\nvar INITIAL_SEND_TIME_DELAY_MS = 5.5 * 1000; // If end point does not work, the call will be tried for these many times.\n\nvar DEFAULT_REMAINING_TRIES = 3;\nvar remainingTries = DEFAULT_REMAINING_TRIES;\n/* eslint-enable camelcase */\n\nvar queue = [];\n\nfunction processQueue(timeOffset) {\n  setTimeout(function () {\n    // If there is no remainingTries left, stop retrying.\n    if (remainingTries === 0) {\n      return;\n    } // If there are no events to process, wait for DEFAULT_SEND_INTERVAL_MS and try again.\n\n\n    if (!queue.length) {\n      return processQueue(DEFAULT_SEND_INTERVAL_MS);\n    } // Capture a snapshot of the queue and empty the \"official queue\".\n\n\n    var staged = tslib.__spreadArrays(queue);\n\n    queue = [];\n    /* eslint-disable camelcase */\n    // We will pass the JSON serialized event to the backend.\n\n    var log_event = staged.map(function (evt) {\n      return {\n        source_extension_json: evt.message,\n        event_time_ms: String(evt.eventTime)\n      };\n    });\n    var data = {\n      request_time_ms: String(Date.now()),\n      client_info: {\n        client_type: 1,\n        js_client_info: {}\n      },\n      log_source: SettingsService.getInstance().logSource,\n      log_event: log_event\n    };\n    /* eslint-enable camelcase */\n\n    fetch(SettingsService.getInstance().logEndPointUrl, {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }).then(function (res) {\n      if (!res.ok) {\n        consoleLogger.info('Call to Firebase backend failed.');\n      }\n\n      return res.json();\n    }).then(function (res) {\n      var wait = Number(res.next_request_wait_millis); // Find the next call wait time from the response.\n\n      var requestOffset = isNaN(wait) ? DEFAULT_SEND_INTERVAL_MS : Math.max(DEFAULT_SEND_INTERVAL_MS, wait);\n      remainingTries = DEFAULT_REMAINING_TRIES; // Schedule the next process.\n\n      processQueue(requestOffset);\n    })[\"catch\"](function () {\n      /**\r\n       * If the request fails for some reason, add the events that were attempted\r\n       * back to the primary queue to retry later.\r\n       */\n      queue = tslib.__spreadArrays(staged, queue);\n      remainingTries--;\n      consoleLogger.info(\"Tries left: \" + remainingTries + \".\");\n      processQueue(DEFAULT_SEND_INTERVAL_MS);\n    });\n  }, timeOffset);\n}\n\nprocessQueue(INITIAL_SEND_TIME_DELAY_MS);\n\nfunction addToQueue(evt) {\n  if (!evt.eventTime || !evt.message) {\n    throw ERROR_FACTORY.create(\"invalid cc log\"\n    /* INVALID_CC_LOG */\n    );\n  } // Add the new event to the queue.\n\n\n  queue = tslib.__spreadArrays(queue, [evt]);\n}\n/** Log handler for cc service to send the performance logs to the server. */\n\n\nfunction ccHandler( // eslint-disable-next-line @typescript-eslint/no-explicit-any\nserializer) {\n  // The underscores for loggerInstance and level parameters are added to avoid the\n  // noUnusedParameters related error.\n  return function (_loggerInstance, _level) {\n    var args = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      args[_i - 2] = arguments[_i];\n    }\n\n    var message = serializer.apply(void 0, args);\n    addToQueue({\n      message: message,\n      eventTime: Date.now()\n    });\n  };\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/* eslint-enble camelcase */\n\n\nvar logger; // This method is not called before initialization.\n\nfunction getLogger() {\n  if (logger) {\n    return logger;\n  }\n\n  var ccLogger = ccHandler(serializer);\n  logger = new logger$1.Logger('@firebase/performance/cc');\n  logger.logHandler = ccLogger;\n  return logger;\n}\n\nfunction logTrace(trace) {\n  var settingsService = SettingsService.getInstance(); // Do not log if trace is auto generated and instrumentation is disabled.\n\n  if (!settingsService.instrumentationEnabled && trace.isAuto) {\n    return;\n  } // Do not log if trace is custom and data collection is disabled.\n\n\n  if (!settingsService.dataCollectionEnabled && !trace.isAuto) {\n    return;\n  } // Do not log if required apis are not available.\n\n\n  if (!Api.getInstance().requiredApisAvailable()) {\n    return;\n  } // Only log the page load auto traces if page is visible.\n\n\n  if (trace.isAuto && getVisibilityState() !== VisibilityState.VISIBLE) {\n    return;\n  }\n\n  if (!settingsService.loggingEnabled || !settingsService.logTraceAfterSampling) {\n    return;\n  }\n\n  if (isPerfInitialized()) {\n    sendTraceLog(trace);\n  } else {\n    // Custom traces can be used before the initialization but logging\n    // should wait until after.\n    getInitializationPromise().then(function () {\n      return sendTraceLog(trace);\n    }, function () {\n      return sendTraceLog(trace);\n    });\n  }\n}\n\nfunction sendTraceLog(trace) {\n  if (getIid()) {\n    setTimeout(function () {\n      return getLogger().log(trace, 1\n      /* Trace */\n      );\n    }, 0);\n  }\n}\n\nfunction logNetworkRequest(networkRequest) {\n  var settingsService = SettingsService.getInstance(); // Do not log network requests if instrumentation is disabled.\n\n  if (!settingsService.instrumentationEnabled) {\n    return;\n  } // Do not log the js sdk's call to cc service to avoid unnecessary cycle.\n\n\n  if (networkRequest.url === settingsService.logEndPointUrl.split('?')[0]) {\n    return;\n  }\n\n  if (!settingsService.loggingEnabled || !settingsService.logNetworkAfterSampling) {\n    return;\n  }\n\n  setTimeout(function () {\n    return getLogger().log(networkRequest, 0\n    /* NetworkRequest */\n    );\n  }, 0);\n}\n\nfunction serializer(resource, resourceType) {\n  if (resourceType === 0\n  /* NetworkRequest */\n  ) {\n      return serializeNetworkRequest(resource);\n    }\n\n  return serializeTrace(resource);\n}\n\nfunction serializeNetworkRequest(networkRequest) {\n  var networkRequestMetric = {\n    url: networkRequest.url,\n    http_method: networkRequest.httpMethod || 0,\n    http_response_code: 200,\n    response_payload_bytes: networkRequest.responsePayloadBytes,\n    client_start_time_us: networkRequest.startTimeUs,\n    time_to_response_initiated_us: networkRequest.timeToResponseInitiatedUs,\n    time_to_response_completed_us: networkRequest.timeToResponseCompletedUs\n  };\n  var perfMetric = {\n    application_info: getApplicationInfo(),\n    network_request_metric: networkRequestMetric\n  };\n  return JSON.stringify(perfMetric);\n}\n\nfunction serializeTrace(trace) {\n  var traceMetric = {\n    name: trace.name,\n    is_auto: trace.isAuto,\n    client_start_time_us: trace.startTimeUs,\n    duration_us: trace.durationUs\n  };\n\n  if (Object.keys(trace.counters).length !== 0) {\n    traceMetric.counters = convertToKeyValueArray(trace.counters);\n  }\n\n  var customAttributes = trace.getAttributes();\n\n  if (Object.keys(customAttributes).length !== 0) {\n    traceMetric.custom_attributes = convertToKeyValueArray(customAttributes);\n  }\n\n  var perfMetric = {\n    application_info: getApplicationInfo(),\n    trace_metric: traceMetric\n  };\n  return JSON.stringify(perfMetric);\n}\n\nfunction getApplicationInfo() {\n  return {\n    google_app_id: SettingsService.getInstance().getAppId(),\n    app_instance_id: getIid(),\n    web_app_info: {\n      sdk_version: SDK_VERSION,\n      page_url: Api.getInstance().getUrl(),\n      service_worker_status: getServiceWorkerStatus(),\n      visibility_state: getVisibilityState(),\n      effective_connection_type: getEffectiveConnectionType()\n    },\n    application_process_state: 0\n  };\n}\n\nfunction convertToKeyValueArray(obj) {\n  var keys = Object.keys(obj);\n  return keys.map(function (key) {\n    return {\n      key: key,\n      value: obj[key]\n    };\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar MAX_METRIC_NAME_LENGTH = 100;\nvar RESERVED_AUTO_PREFIX = '_';\nvar oobMetrics = [FIRST_PAINT_COUNTER_NAME, FIRST_CONTENTFUL_PAINT_COUNTER_NAME, FIRST_INPUT_DELAY_COUNTER_NAME];\n/**\r\n * Returns true if the metric is custom and does not start with reserved prefix, or if\r\n * the metric is one of out of the box page load trace metrics.\r\n */\n\nfunction isValidMetricName(name, traceName) {\n  if (name.length === 0 || name.length > MAX_METRIC_NAME_LENGTH) {\n    return false;\n  }\n\n  return traceName && traceName.startsWith(OOB_TRACE_PAGE_LOAD_PREFIX) && oobMetrics.indexOf(name) > -1 || !name.startsWith(RESERVED_AUTO_PREFIX);\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar Trace =\n/** @class */\nfunction () {\n  /**\r\n   * @param name The name of the trace.\r\n   * @param isAuto If the trace is auto-instrumented.\r\n   * @param traceMeasureName The name of the measure marker in user timing specification. This field\r\n   * is only set when the trace is built for logging when the user directly uses the user timing\r\n   * api (performance.mark and performance.measure).\r\n   */\n  function Trace(name, isAuto, traceMeasureName) {\n    if (isAuto === void 0) {\n      isAuto = false;\n    }\n\n    this.name = name;\n    this.isAuto = isAuto;\n    this.state = 1\n    /* UNINITIALIZED */\n    ;\n    this.customAttributes = {};\n    this.counters = {};\n    this.api = Api.getInstance();\n    this.randomId = Math.floor(Math.random() * 1000000);\n\n    if (!this.isAuto) {\n      this.traceStartMark = TRACE_START_MARK_PREFIX + \"-\" + this.randomId + \"-\" + this.name;\n      this.traceStopMark = TRACE_STOP_MARK_PREFIX + \"-\" + this.randomId + \"-\" + this.name;\n      this.traceMeasure = traceMeasureName || TRACE_MEASURE_PREFIX + \"-\" + this.randomId + \"-\" + this.name;\n\n      if (traceMeasureName) {\n        // For the case of direct user timing traces, no start stop will happen. The measure object\n        // is already available.\n        this.calculateTraceMetrics();\n      }\n    }\n  }\n  /**\r\n   * Starts a trace. The measurement of the duration starts at this point.\r\n   */\n\n\n  Trace.prototype.start = function () {\n    if (this.state !== 1\n    /* UNINITIALIZED */\n    ) {\n        throw ERROR_FACTORY.create(\"trace started\"\n        /* TRACE_STARTED_BEFORE */\n        , {\n          traceName: this.name\n        });\n      }\n\n    this.api.mark(this.traceStartMark);\n    this.state = 2\n    /* RUNNING */\n    ;\n  };\n  /**\r\n   * Stops the trace. The measurement of the duration of the trace stops at this point and trace\r\n   * is logged.\r\n   */\n\n\n  Trace.prototype.stop = function () {\n    if (this.state !== 2\n    /* RUNNING */\n    ) {\n        throw ERROR_FACTORY.create(\"trace stopped\"\n        /* TRACE_STOPPED_BEFORE */\n        , {\n          traceName: this.name\n        });\n      }\n\n    this.state = 3\n    /* TERMINATED */\n    ;\n    this.api.mark(this.traceStopMark);\n    this.api.measure(this.traceMeasure, this.traceStartMark, this.traceStopMark);\n    this.calculateTraceMetrics();\n    logTrace(this);\n  };\n  /**\r\n   * Records a trace with predetermined values. If this method is used a trace is created and logged\r\n   * directly. No need to use start and stop methods.\r\n   * @param startTime Trace start time since epoch in millisec\r\n   * @param duration The duraction of the trace in millisec\r\n   * @param options An object which can optionally hold maps of custom metrics and custom attributes\r\n   */\n\n\n  Trace.prototype.record = function (startTime, duration, options) {\n    this.durationUs = Math.floor(duration * 1000);\n    this.startTimeUs = Math.floor(startTime * 1000);\n\n    if (options && options.attributes) {\n      this.customAttributes = tslib.__assign({}, options.attributes);\n    }\n\n    if (options && options.metrics) {\n      for (var _i = 0, _a = Object.keys(options.metrics); _i < _a.length; _i++) {\n        var metric = _a[_i];\n\n        if (!isNaN(Number(options.metrics[metric]))) {\n          this.counters[metric] = Number(Math.floor(options.metrics[metric]));\n        }\n      }\n    }\n\n    logTrace(this);\n  };\n  /**\r\n   * Increments a custom metric by a certain number or 1 if number not specified. Will create a new\r\n   * custom metric if one with the given name does not exist.\r\n   * @param counter Name of the custom metric\r\n   * @param num Increment by value\r\n   */\n\n\n  Trace.prototype.incrementMetric = function (counter, num) {\n    if (num === void 0) {\n      num = 1;\n    }\n\n    if (this.counters[counter] === undefined) {\n      this.putMetric(counter, 0);\n    }\n\n    this.counters[counter] += num;\n  };\n  /**\r\n   * Sets a custom metric to a specified value. Will create a new custom metric if one with the\r\n   * given name does not exist.\r\n   * @param counter Name of the custom metric\r\n   * @param num Set custom metric to this value\r\n   */\n\n\n  Trace.prototype.putMetric = function (counter, num) {\n    if (isValidMetricName(counter, this.name)) {\n      this.counters[counter] = num;\n    } else {\n      throw ERROR_FACTORY.create(\"invalide custom metric name\"\n      /* INVALID_CUSTOM_METRIC_NAME */\n      , {\n        customMetricName: counter\n      });\n    }\n  };\n  /**\r\n   * Returns the value of the custom metric by that name. If a custom metric with that name does\r\n   * not exist will return zero.\r\n   * @param counter\r\n   */\n\n\n  Trace.prototype.getMetric = function (counter) {\n    return this.counters[counter] || 0;\n  };\n  /**\r\n   * Sets a custom attribute of a trace to a certain value.\r\n   * @param attr\r\n   * @param value\r\n   */\n\n\n  Trace.prototype.putAttribute = function (attr, value) {\n    var isValidName = isValidCustomAttributeName(attr);\n    var isValidValue = isValidCustomAttributeValue(value);\n\n    if (isValidName && isValidValue) {\n      this.customAttributes[attr] = value;\n      return;\n    } // Throw appropriate error when the attribute name or value is invalid.\n\n\n    if (!isValidName) {\n      throw ERROR_FACTORY.create(\"invalid attribute name\"\n      /* INVALID_ATTRIBUTE_NAME */\n      , {\n        attributeName: attr\n      });\n    }\n\n    if (!isValidValue) {\n      throw ERROR_FACTORY.create(\"invalid attribute value\"\n      /* INVALID_ATTRIBUTE_VALUE */\n      , {\n        attributeValue: value\n      });\n    }\n  };\n  /**\r\n   * Retrieves the value a custom attribute of a trace is set to.\r\n   * @param attr\r\n   */\n\n\n  Trace.prototype.getAttribute = function (attr) {\n    return this.customAttributes[attr];\n  };\n\n  Trace.prototype.removeAttribute = function (attr) {\n    if (this.customAttributes[attr] === undefined) {\n      return;\n    }\n\n    delete this.customAttributes[attr];\n  };\n\n  Trace.prototype.getAttributes = function () {\n    return tslib.__assign({}, this.customAttributes);\n  };\n\n  Trace.prototype.setStartTime = function (startTime) {\n    this.startTimeUs = startTime;\n  };\n\n  Trace.prototype.setDuration = function (duration) {\n    this.durationUs = duration;\n  };\n  /**\r\n   * Calculates and assigns the duration and start time of the trace using the measure performance\r\n   * entry.\r\n   */\n\n\n  Trace.prototype.calculateTraceMetrics = function () {\n    var perfMeasureEntries = this.api.getEntriesByName(this.traceMeasure);\n    var perfMeasureEntry = perfMeasureEntries && perfMeasureEntries[0];\n\n    if (perfMeasureEntry) {\n      this.durationUs = Math.floor(perfMeasureEntry.duration * 1000);\n      this.startTimeUs = Math.floor((perfMeasureEntry.startTime + this.api.getTimeOrigin()) * 1000);\n    }\n  };\n  /**\r\n   * @param navigationTimings A single element array which contains the navigationTIming object of\r\n   * the page load\r\n   * @param paintTimings A array which contains paintTiming object of the page load\r\n   * @param firstInputDelay First input delay in millisec\r\n   */\n\n\n  Trace.createOobTrace = function (navigationTimings, paintTimings, firstInputDelay) {\n    var route = Api.getInstance().getUrl();\n\n    if (!route) {\n      return;\n    }\n\n    var trace = new Trace(OOB_TRACE_PAGE_LOAD_PREFIX + route, true);\n    var timeOriginUs = Math.floor(Api.getInstance().getTimeOrigin() * 1000);\n    trace.setStartTime(timeOriginUs); // navigationTimings includes only one element.\n\n    if (navigationTimings && navigationTimings[0]) {\n      trace.setDuration(Math.floor(navigationTimings[0].duration * 1000));\n      trace.putMetric('domInteractive', Math.floor(navigationTimings[0].domInteractive * 1000));\n      trace.putMetric('domContentLoadedEventEnd', Math.floor(navigationTimings[0].domContentLoadedEventEnd * 1000));\n      trace.putMetric('loadEventEnd', Math.floor(navigationTimings[0].loadEventEnd * 1000));\n    }\n\n    var FIRST_PAINT = 'first-paint';\n    var FIRST_CONTENTFUL_PAINT = 'first-contentful-paint';\n\n    if (paintTimings) {\n      var firstPaint = paintTimings.find(function (paintObject) {\n        return paintObject.name === FIRST_PAINT;\n      });\n\n      if (firstPaint && firstPaint.startTime) {\n        trace.putMetric(FIRST_PAINT_COUNTER_NAME, Math.floor(firstPaint.startTime * 1000));\n      }\n\n      var firstContentfulPaint = paintTimings.find(function (paintObject) {\n        return paintObject.name === FIRST_CONTENTFUL_PAINT;\n      });\n\n      if (firstContentfulPaint && firstContentfulPaint.startTime) {\n        trace.putMetric(FIRST_CONTENTFUL_PAINT_COUNTER_NAME, Math.floor(firstContentfulPaint.startTime * 1000));\n      }\n\n      if (firstInputDelay) {\n        trace.putMetric(FIRST_INPUT_DELAY_COUNTER_NAME, Math.floor(firstInputDelay * 1000));\n      }\n    }\n\n    logTrace(trace);\n  };\n\n  Trace.createUserTimingTrace = function (measureName) {\n    var trace = new Trace(measureName, false, measureName);\n    logTrace(trace);\n  };\n\n  return Trace;\n}();\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction createNetworkRequestEntry(entry) {\n  var performanceEntry = entry;\n\n  if (!performanceEntry || performanceEntry.responseStart === undefined) {\n    return;\n  }\n\n  var timeOrigin = Api.getInstance().getTimeOrigin();\n  var startTimeUs = Math.floor((performanceEntry.startTime + timeOrigin) * 1000);\n  var timeToResponseInitiatedUs = performanceEntry.responseStart ? Math.floor((performanceEntry.responseStart - performanceEntry.startTime) * 1000) : undefined;\n  var timeToResponseCompletedUs = Math.floor((performanceEntry.responseEnd - performanceEntry.startTime) * 1000); // Remove the query params from logged network request url.\n\n  var url = performanceEntry.name && performanceEntry.name.split('?')[0];\n  var networkRequest = {\n    url: url,\n    responsePayloadBytes: performanceEntry.transferSize,\n    startTimeUs: startTimeUs,\n    timeToResponseInitiatedUs: timeToResponseInitiatedUs,\n    timeToResponseCompletedUs: timeToResponseCompletedUs\n  };\n  logNetworkRequest(networkRequest);\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar FID_WAIT_TIME_MS = 5000;\n\nfunction setupOobResources() {\n  // Do not initialize unless iid is available.\n  if (!getIid()) {\n    return;\n  } // The load event might not have fired yet, and that means performance navigation timing\n  // object has a duration of 0. The setup should run after all current tasks in js queue.\n\n\n  setTimeout(function () {\n    return setupOobTraces();\n  }, 0);\n  setTimeout(function () {\n    return setupNetworkRequests();\n  }, 0);\n  setTimeout(function () {\n    return setupUserTimingTraces();\n  }, 0);\n}\n\nfunction setupNetworkRequests() {\n  var api = Api.getInstance();\n  var resources = api.getEntriesByType('resource');\n\n  for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n    var resource = resources_1[_i];\n    createNetworkRequestEntry(resource);\n  }\n\n  api.setupObserver('resource', createNetworkRequestEntry);\n}\n\nfunction setupOobTraces() {\n  var api = Api.getInstance();\n  var navigationTimings = api.getEntriesByType('navigation');\n  var paintTimings = api.getEntriesByType('paint'); // If First Input Desly polyfill is added to the page, report the fid value.\n  // https://github.com/GoogleChromeLabs/first-input-delay\n\n  if (api.onFirstInputDelay) {\n    // If the fid call back is not called for certain time, continue without it.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var timeoutId_1 = setTimeout(function () {\n      Trace.createOobTrace(navigationTimings, paintTimings);\n      timeoutId_1 = undefined;\n    }, FID_WAIT_TIME_MS);\n    api.onFirstInputDelay(function (fid) {\n      if (timeoutId_1) {\n        clearTimeout(timeoutId_1);\n        Trace.createOobTrace(navigationTimings, paintTimings, fid);\n      }\n    });\n  } else {\n    Trace.createOobTrace(navigationTimings, paintTimings);\n  }\n}\n\nfunction setupUserTimingTraces() {\n  var api = Api.getInstance(); // Run through the measure performance entries collected up to this point.\n\n  var measures = api.getEntriesByType('measure');\n\n  for (var _i = 0, measures_1 = measures; _i < measures_1.length; _i++) {\n    var measure = measures_1[_i];\n    createUserTimingTrace(measure);\n  } // Setup an observer to capture the measures from this point on.\n\n\n  api.setupObserver('measure', createUserTimingTrace);\n}\n\nfunction createUserTimingTrace(measure) {\n  var measureName = measure.name; // Do not create a trace, if the user timing marks and measures are created by the sdk itself.\n\n  if (measureName.substring(0, TRACE_MEASURE_PREFIX.length) === TRACE_MEASURE_PREFIX) {\n    return;\n  }\n\n  Trace.createUserTimingTrace(measureName);\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar PerformanceController =\n/** @class */\nfunction () {\n  function PerformanceController(app) {\n    this.app = app;\n\n    if (Api.getInstance().requiredApisAvailable()) {\n      getInitializationPromise().then(setupOobResources, setupOobResources);\n    } else {\n      consoleLogger.info('Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.');\n    }\n  }\n\n  PerformanceController.prototype.trace = function (name) {\n    return new Trace(name);\n  };\n\n  Object.defineProperty(PerformanceController.prototype, \"instrumentationEnabled\", {\n    get: function get() {\n      return SettingsService.getInstance().instrumentationEnabled;\n    },\n    set: function set(val) {\n      SettingsService.getInstance().instrumentationEnabled = val;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PerformanceController.prototype, \"dataCollectionEnabled\", {\n    get: function get() {\n      return SettingsService.getInstance().dataCollectionEnabled;\n    },\n    set: function set(val) {\n      SettingsService.getInstance().dataCollectionEnabled = val;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return PerformanceController;\n}();\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\nfunction registerPerformance(instance) {\n  var factoryMethod = function factoryMethod(app) {\n    if (app.name !== DEFAULT_ENTRY_NAME) {\n      throw ERROR_FACTORY.create(\"FB not default\"\n      /* FB_NOT_DEFAULT */\n      );\n    }\n\n    if (typeof window === 'undefined') {\n      throw ERROR_FACTORY.create(\"no window\"\n      /* NO_WINDOW */\n      );\n    }\n\n    setupApi(window);\n    SettingsService.getInstance().firebaseAppInstance = app;\n    return new PerformanceController(app);\n  }; // Register performance with firebase-app.\n\n\n  var namespaceExports = {};\n  instance.INTERNAL.registerService('performance', factoryMethod, namespaceExports);\n}\n\nregisterPerformance(firebase);\nexports.registerPerformance = registerPerformance;","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.date.now\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport firebase from '@firebase/app';\nimport { __values, __awaiter, __generator, __spread, __assign } from 'tslib';\nimport { ErrorFactory, FirebaseError } from '@firebase/util';\nimport { openDb } from 'idb';\nvar version = \"0.3.6\";\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar PENDING_TIMEOUT_MS = 10000;\nvar PACKAGE_VERSION = \"w:\" + version;\nvar INTERNAL_AUTH_VERSION = 'FIS_v2';\nvar INSTALLATIONS_API_URL = 'https://firebaseinstallations.googleapis.com/v1';\nvar TOKEN_EXPIRATION_BUFFER = 60 * 60 * 1000; // One hour\n\nvar SERVICE = 'installations';\nvar SERVICE_NAME = 'Installations';\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar _a;\n\nvar ERROR_DESCRIPTION_MAP = (_a = {}, _a[\"missing-app-config-values\"\n/* MISSING_APP_CONFIG_VALUES */\n] = 'Missing App configuration value: \"{$valueName}\"', _a[\"not-registered\"\n/* NOT_REGISTERED */\n] = 'Firebase Installation is not registered.', _a[\"installation-not-found\"\n/* INSTALLATION_NOT_FOUND */\n] = 'Firebase Installation not found.', _a[\"request-failed\"\n/* REQUEST_FAILED */\n] = '{$requestName} request failed with error \"{$serverCode} {$serverStatus}: {$serverMessage}\"', _a[\"app-offline\"\n/* APP_OFFLINE */\n] = 'Could not process request. Application offline.', _a[\"delete-pending-registration\"\n/* DELETE_PENDING_REGISTRATION */\n] = \"Can't delete installation while there is a pending registration request.\", _a);\nvar ERROR_FACTORY = new ErrorFactory(SERVICE, SERVICE_NAME, ERROR_DESCRIPTION_MAP);\n/** Returns true if error is a FirebaseError that is based on an error from the server. */\n\nfunction isServerError(error) {\n  return error instanceof FirebaseError && error.code.includes(\"request-failed\"\n  /* REQUEST_FAILED */\n  );\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction extractAppConfig(app) {\n  var e_1, _a;\n\n  if (!app || !app.options) {\n    throw getMissingValueError('App Configuration');\n  }\n\n  if (!app.name) {\n    throw getMissingValueError('App Name');\n  } // Required app config keys\n\n\n  var configKeys = ['projectId', 'apiKey', 'appId'];\n\n  try {\n    for (var configKeys_1 = __values(configKeys), configKeys_1_1 = configKeys_1.next(); !configKeys_1_1.done; configKeys_1_1 = configKeys_1.next()) {\n      var keyName = configKeys_1_1.value;\n\n      if (!app.options[keyName]) {\n        throw getMissingValueError(keyName);\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (configKeys_1_1 && !configKeys_1_1.done && (_a = configKeys_1[\"return\"])) _a.call(configKeys_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return {\n    appName: app.name,\n    projectId: app.options.projectId,\n    apiKey: app.options.apiKey,\n    appId: app.options.appId\n  };\n}\n\nfunction getMissingValueError(valueName) {\n  return ERROR_FACTORY.create(\"missing-app-config-values\"\n  /* MISSING_APP_CONFIG_VALUES */\n  , {\n    valueName: valueName\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction getInstallationsEndpoint(_a) {\n  var projectId = _a.projectId;\n  return INSTALLATIONS_API_URL + \"/projects/\" + projectId + \"/installations\";\n}\n\nfunction extractAuthTokenInfoFromResponse(response) {\n  return {\n    token: response.token,\n    requestStatus: 2\n    /* COMPLETED */\n    ,\n    expiresIn: getExpiresInFromResponseExpiresIn(response.expiresIn),\n    creationTime: Date.now()\n  };\n}\n\nfunction getErrorFromResponse(requestName, response) {\n  return __awaiter(this, void 0, void 0, function () {\n    var responseJson, errorData;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , response.json()];\n\n        case 1:\n          responseJson = _a.sent();\n          errorData = responseJson.error;\n          return [2\n          /*return*/\n          , ERROR_FACTORY.create(\"request-failed\"\n          /* REQUEST_FAILED */\n          , {\n            requestName: requestName,\n            serverCode: errorData.code,\n            serverMessage: errorData.message,\n            serverStatus: errorData.status\n          })];\n      }\n    });\n  });\n}\n\nfunction getHeaders(_a) {\n  var apiKey = _a.apiKey;\n  return new Headers({\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n    'x-goog-api-key': apiKey\n  });\n}\n\nfunction getHeadersWithAuth(appConfig, _a) {\n  var refreshToken = _a.refreshToken;\n  var headers = getHeaders(appConfig);\n  headers.append('Authorization', getAuthorizationHeader(refreshToken));\n  return headers;\n}\n/**\r\n * Calls the passed in fetch wrapper and returns the response.\r\n * If the returned response has a status of 5xx, re-runs the function once and\r\n * returns the response.\r\n */\n\n\nfunction retryIfServerError(fn) {\n  return __awaiter(this, void 0, void 0, function () {\n    var result;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , fn()];\n\n        case 1:\n          result = _a.sent();\n\n          if (result.status >= 500 && result.status < 600) {\n            // Internal Server Error. Retry request.\n            return [2\n            /*return*/\n            , fn()];\n          }\n\n          return [2\n          /*return*/\n          , result];\n      }\n    });\n  });\n}\n\nfunction getExpiresInFromResponseExpiresIn(responseExpiresIn) {\n  // This works because the server will never respond with fractions of a second.\n  return Number(responseExpiresIn.replace('s', '000'));\n}\n\nfunction getAuthorizationHeader(refreshToken) {\n  return INTERNAL_AUTH_VERSION + \" \" + refreshToken;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction createInstallation(appConfig, _a) {\n  var fid = _a.fid;\n  return __awaiter(this, void 0, void 0, function () {\n    var endpoint, headers, body, request, response, responseValue, registeredInstallationEntry;\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          endpoint = getInstallationsEndpoint(appConfig);\n          headers = getHeaders(appConfig);\n          body = {\n            fid: fid,\n            authVersion: INTERNAL_AUTH_VERSION,\n            appId: appConfig.appId,\n            sdkVersion: PACKAGE_VERSION\n          };\n          request = {\n            method: 'POST',\n            headers: headers,\n            body: JSON.stringify(body)\n          };\n          return [4\n          /*yield*/\n          , retryIfServerError(function () {\n            return fetch(endpoint, request);\n          })];\n\n        case 1:\n          response = _b.sent();\n          if (!response.ok) return [3\n          /*break*/\n          , 3];\n          return [4\n          /*yield*/\n          , response.json()];\n\n        case 2:\n          responseValue = _b.sent();\n          registeredInstallationEntry = {\n            fid: responseValue.fid || fid,\n            registrationStatus: 2\n            /* COMPLETED */\n            ,\n            refreshToken: responseValue.refreshToken,\n            authToken: extractAuthTokenInfoFromResponse(responseValue.authToken)\n          };\n          return [2\n          /*return*/\n          , registeredInstallationEntry];\n\n        case 3:\n          return [4\n          /*yield*/\n          , getErrorFromResponse('Create Installation', response)];\n\n        case 4:\n          throw _b.sent();\n      }\n    });\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/** Returns a promise that resolves after given time passes. */\n\n\nfunction sleep(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction bufferToBase64UrlSafe(array) {\n  var b64 = btoa(String.fromCharCode.apply(String, __spread(array)));\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar VALID_FID_PATTERN = /^[cdef][\\w-]{21}$/;\nvar INVALID_FID = '';\n/**\r\n * Generates a new FID using random values from Web Crypto API.\r\n * Returns an empty string if FID generation fails for any reason.\r\n */\n\nfunction generateFid() {\n  try {\n    // A valid FID has exactly 22 base64 characters, which is 132 bits, or 16.5\n    // bytes. our implementation generates a 17 byte array instead.\n    var fidByteArray = new Uint8Array(17);\n    var crypto_1 = self.crypto || self.msCrypto;\n    crypto_1.getRandomValues(fidByteArray); // Replace the first 4 random bits with the constant FID header of 0b0111.\n\n    fidByteArray[0] = 112 + fidByteArray[0] % 16;\n    var fid = encode(fidByteArray);\n    return VALID_FID_PATTERN.test(fid) ? fid : INVALID_FID;\n  } catch (_a) {\n    // FID generation errored\n    return INVALID_FID;\n  }\n}\n/** Converts a FID Uint8Array to a base64 string representation. */\n\n\nfunction encode(fidByteArray) {\n  var b64String = bufferToBase64UrlSafe(fidByteArray); // Remove the 23rd character that was added because of the extra 4 bits at the\n  // end of our 17 byte array, and the '=' padding.\n\n  return b64String.substr(0, 22);\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar DATABASE_NAME = 'firebase-installations-database';\nvar DATABASE_VERSION = 1;\nvar OBJECT_STORE_NAME = 'firebase-installations-store';\nvar dbPromise = null;\n\nfunction getDbPromise() {\n  if (!dbPromise) {\n    dbPromise = openDb(DATABASE_NAME, DATABASE_VERSION, function (upgradeDB) {\n      // We don't use 'break' in this switch statement, the fall-through\n      // behavior is what we want, because if there are multiple versions between\n      // the old version and the current version, we want ALL the migrations\n      // that correspond to those versions to run, not only the last one.\n      // eslint-disable-next-line default-case\n      switch (upgradeDB.oldVersion) {\n        case 0:\n          upgradeDB.createObjectStore(OBJECT_STORE_NAME);\n      }\n    });\n  }\n\n  return dbPromise;\n}\n/** Assigns or overwrites the record for the given key with the given value. */\n\n\nfunction set(appConfig, value) {\n  return __awaiter(this, void 0, void 0, function () {\n    var key, db, tx;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          key = getKey(appConfig);\n          return [4\n          /*yield*/\n          , getDbPromise()];\n\n        case 1:\n          db = _a.sent();\n          tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n          return [4\n          /*yield*/\n          , tx.objectStore(OBJECT_STORE_NAME).put(value, key)];\n\n        case 2:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , tx.complete];\n\n        case 3:\n          _a.sent();\n\n          return [2\n          /*return*/\n          , value];\n      }\n    });\n  });\n}\n/** Removes record(s) from the objectStore that match the given key. */\n\n\nfunction remove(appConfig) {\n  return __awaiter(this, void 0, void 0, function () {\n    var key, db, tx;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          key = getKey(appConfig);\n          return [4\n          /*yield*/\n          , getDbPromise()];\n\n        case 1:\n          db = _a.sent();\n          tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n          return [4\n          /*yield*/\n          , tx.objectStore(OBJECT_STORE_NAME)[\"delete\"](key)];\n\n        case 2:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , tx.complete];\n\n        case 3:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n/**\r\n * Atomically updates a record with the result of updateFn, which gets\r\n * called with the current value. If newValue is undefined, the record is\r\n * deleted instead.\r\n * @return Updated value\r\n */\n\n\nfunction update(appConfig, updateFn) {\n  return __awaiter(this, void 0, void 0, function () {\n    var key, db, tx, store, oldValue, newValue;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          key = getKey(appConfig);\n          return [4\n          /*yield*/\n          , getDbPromise()];\n\n        case 1:\n          db = _a.sent();\n          tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n          store = tx.objectStore(OBJECT_STORE_NAME);\n          return [4\n          /*yield*/\n          , store.get(key)];\n\n        case 2:\n          oldValue = _a.sent();\n          newValue = updateFn(oldValue);\n          if (!(newValue === undefined)) return [3\n          /*break*/\n          , 4];\n          return [4\n          /*yield*/\n          , store[\"delete\"](key)];\n\n        case 3:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 6];\n\n        case 4:\n          return [4\n          /*yield*/\n          , store.put(newValue, key)];\n\n        case 5:\n          _a.sent();\n\n          _a.label = 6;\n\n        case 6:\n          return [4\n          /*yield*/\n          , tx.complete];\n\n        case 7:\n          _a.sent();\n\n          return [2\n          /*return*/\n          , newValue];\n      }\n    });\n  });\n}\n\nfunction getKey(appConfig) {\n  return appConfig.appName + \"!\" + appConfig.appId;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Updates and returns the InstallationEntry from the database.\r\n * Also triggers a registration request if it is necessary and possible.\r\n */\n\n\nfunction getInstallationEntry(appConfig) {\n  return __awaiter(this, void 0, void 0, function () {\n    var registrationPromise, installationEntry, _a;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , update(appConfig, function (oldEntry) {\n            var installationEntry = updateOrCreateInstallationEntry(oldEntry);\n            var entryWithPromise = triggerRegistrationIfNecessary(appConfig, installationEntry);\n            registrationPromise = entryWithPromise.registrationPromise;\n            return entryWithPromise.installationEntry;\n          })];\n\n        case 1:\n          installationEntry = _b.sent();\n          if (!(installationEntry.fid === INVALID_FID)) return [3\n          /*break*/\n          , 3];\n          _a = {};\n          return [4\n          /*yield*/\n          , registrationPromise];\n\n        case 2:\n          // FID generation failed. Waiting for the FID from the server.\n          return [2\n          /*return*/\n          , (_a.installationEntry = _b.sent(), _a)];\n\n        case 3:\n          return [2\n          /*return*/\n          , {\n            installationEntry: installationEntry,\n            registrationPromise: registrationPromise\n          }];\n      }\n    });\n  });\n}\n/**\r\n * Creates a new Installation Entry if one does not exist.\r\n * Also clears timed out pending requests.\r\n */\n\n\nfunction updateOrCreateInstallationEntry(oldEntry) {\n  var entry = oldEntry || {\n    fid: generateFid(),\n    registrationStatus: 0\n    /* NOT_STARTED */\n\n  };\n  return clearTimedOutRequest(entry);\n}\n/**\r\n * If the Firebase Installation is not registered yet, this will trigger the\r\n * registration and return an InProgressInstallationEntry.\r\n *\r\n * If registrationPromise does not exist, the installationEntry is guaranteed\r\n * to be registered.\r\n */\n\n\nfunction triggerRegistrationIfNecessary(appConfig, installationEntry) {\n  if (installationEntry.registrationStatus === 0\n  /* NOT_STARTED */\n  ) {\n      if (!navigator.onLine) {\n        // Registration required but app is offline.\n        var registrationPromiseWithError = Promise.reject(ERROR_FACTORY.create(\"app-offline\"\n        /* APP_OFFLINE */\n        ));\n        return {\n          installationEntry: installationEntry,\n          registrationPromise: registrationPromiseWithError\n        };\n      } // Try registering. Change status to IN_PROGRESS.\n\n\n      var inProgressEntry = {\n        fid: installationEntry.fid,\n        registrationStatus: 1\n        /* IN_PROGRESS */\n        ,\n        registrationTime: Date.now()\n      };\n      var registrationPromise = registerInstallation(appConfig, inProgressEntry);\n      return {\n        installationEntry: inProgressEntry,\n        registrationPromise: registrationPromise\n      };\n    } else if (installationEntry.registrationStatus === 1\n  /* IN_PROGRESS */\n  ) {\n      return {\n        installationEntry: installationEntry,\n        registrationPromise: waitUntilFidRegistration(appConfig)\n      };\n    } else {\n    return {\n      installationEntry: installationEntry\n    };\n  }\n}\n/** This will be executed only once for each new Firebase Installation. */\n\n\nfunction registerInstallation(appConfig, installationEntry) {\n  return __awaiter(this, void 0, void 0, function () {\n    var registeredInstallationEntry, e_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          _a.trys.push([0, 2,, 7]);\n\n          return [4\n          /*yield*/\n          , createInstallation(appConfig, installationEntry)];\n\n        case 1:\n          registeredInstallationEntry = _a.sent();\n          return [2\n          /*return*/\n          , set(appConfig, registeredInstallationEntry)];\n\n        case 2:\n          e_1 = _a.sent();\n          if (!(isServerError(e_1) && e_1.serverCode === 409)) return [3\n          /*break*/\n          , 4]; // Server returned a \"FID can not be used\" error.\n          // Generate a new ID next time.\n\n          return [4\n          /*yield*/\n          , remove(appConfig)];\n\n        case 3:\n          // Server returned a \"FID can not be used\" error.\n          // Generate a new ID next time.\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 6];\n\n        case 4:\n          // Registration failed. Set FID as not registered.\n          return [4\n          /*yield*/\n          , set(appConfig, {\n            fid: installationEntry.fid,\n            registrationStatus: 0\n            /* NOT_STARTED */\n\n          })];\n\n        case 5:\n          // Registration failed. Set FID as not registered.\n          _a.sent();\n\n          _a.label = 6;\n\n        case 6:\n          throw e_1;\n\n        case 7:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n/** Call if FID registration is pending in another request. */\n\n\nfunction waitUntilFidRegistration(appConfig) {\n  return __awaiter(this, void 0, void 0, function () {\n    var entry, _a, installationEntry, registrationPromise;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , updateInstallationRequest(appConfig)];\n\n        case 1:\n          entry = _b.sent();\n          _b.label = 2;\n\n        case 2:\n          if (!(entry.registrationStatus === 1\n          /* IN_PROGRESS */\n          )) return [3\n            /*break*/\n            , 5]; // createInstallation request still in progress.\n\n          return [4\n          /*yield*/\n          , sleep(100)];\n\n        case 3:\n          // createInstallation request still in progress.\n          _b.sent();\n\n          return [4\n          /*yield*/\n          , updateInstallationRequest(appConfig)];\n\n        case 4:\n          entry = _b.sent();\n          return [3\n          /*break*/\n          , 2];\n\n        case 5:\n          if (!(entry.registrationStatus === 0\n          /* NOT_STARTED */\n          )) return [3\n            /*break*/\n            , 7];\n          return [4\n          /*yield*/\n          , getInstallationEntry(appConfig)];\n\n        case 6:\n          _a = _b.sent(), installationEntry = _a.installationEntry, registrationPromise = _a.registrationPromise;\n\n          if (registrationPromise) {\n            return [2\n            /*return*/\n            , registrationPromise];\n          } else {\n            // if there is no registrationPromise, entry is registered.\n            return [2\n            /*return*/\n            , installationEntry];\n          }\n\n        case 7:\n          return [2\n          /*return*/\n          , entry];\n      }\n    });\n  });\n}\n/**\r\n * Called only if there is a CreateInstallation request in progress.\r\n *\r\n * Updates the InstallationEntry in the DB based on the status of the\r\n * CreateInstallation request.\r\n *\r\n * Returns the updated InstallationEntry.\r\n */\n\n\nfunction updateInstallationRequest(appConfig) {\n  return update(appConfig, function (oldEntry) {\n    if (!oldEntry) {\n      throw ERROR_FACTORY.create(\"installation-not-found\"\n      /* INSTALLATION_NOT_FOUND */\n      );\n    }\n\n    return clearTimedOutRequest(oldEntry);\n  });\n}\n\nfunction clearTimedOutRequest(entry) {\n  if (hasInstallationRequestTimedOut(entry)) {\n    return {\n      fid: entry.fid,\n      registrationStatus: 0\n      /* NOT_STARTED */\n\n    };\n  }\n\n  return entry;\n}\n\nfunction hasInstallationRequestTimedOut(installationEntry) {\n  return installationEntry.registrationStatus === 1\n  /* IN_PROGRESS */\n  && installationEntry.registrationTime + PENDING_TIMEOUT_MS < Date.now();\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction generateAuthToken(appConfig, installationEntry) {\n  return __awaiter(this, void 0, void 0, function () {\n    var endpoint, headers, body, request, response, responseValue, completedAuthToken;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          endpoint = getGenerateAuthTokenEndpoint(appConfig, installationEntry);\n          headers = getHeadersWithAuth(appConfig, installationEntry);\n          body = {\n            installation: {\n              sdkVersion: PACKAGE_VERSION\n            }\n          };\n          request = {\n            method: 'POST',\n            headers: headers,\n            body: JSON.stringify(body)\n          };\n          return [4\n          /*yield*/\n          , retryIfServerError(function () {\n            return fetch(endpoint, request);\n          })];\n\n        case 1:\n          response = _a.sent();\n          if (!response.ok) return [3\n          /*break*/\n          , 3];\n          return [4\n          /*yield*/\n          , response.json()];\n\n        case 2:\n          responseValue = _a.sent();\n          completedAuthToken = extractAuthTokenInfoFromResponse(responseValue);\n          return [2\n          /*return*/\n          , completedAuthToken];\n\n        case 3:\n          return [4\n          /*yield*/\n          , getErrorFromResponse('Generate Auth Token', response)];\n\n        case 4:\n          throw _a.sent();\n      }\n    });\n  });\n}\n\nfunction getGenerateAuthTokenEndpoint(appConfig, _a) {\n  var fid = _a.fid;\n  return getInstallationsEndpoint(appConfig) + \"/\" + fid + \"/authTokens:generate\";\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Returns a valid authentication token for the installation. Generates a new\r\n * token if one doesn't exist, is expired or about to expire.\r\n *\r\n * Should only be called if the Firebase Installation is registered.\r\n */\n\n\nfunction refreshAuthToken(appConfig, forceRefresh) {\n  if (forceRefresh === void 0) {\n    forceRefresh = false;\n  }\n\n  return __awaiter(this, void 0, void 0, function () {\n    var tokenPromise, entry, authToken, _a;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , update(appConfig, function (oldEntry) {\n            if (!isEntryRegistered(oldEntry)) {\n              throw ERROR_FACTORY.create(\"not-registered\"\n              /* NOT_REGISTERED */\n              );\n            }\n\n            var oldAuthToken = oldEntry.authToken;\n\n            if (!forceRefresh && isAuthTokenValid(oldAuthToken)) {\n              // There is a valid token in the DB.\n              return oldEntry;\n            } else if (oldAuthToken.requestStatus === 1\n            /* IN_PROGRESS */\n            ) {\n                // There already is a token request in progress.\n                tokenPromise = waitUntilAuthTokenRequest(appConfig, forceRefresh);\n                return oldEntry;\n              } else {\n              // No token or token expired.\n              if (!navigator.onLine) {\n                throw ERROR_FACTORY.create(\"app-offline\"\n                /* APP_OFFLINE */\n                );\n              }\n\n              var inProgressEntry = makeAuthTokenRequestInProgressEntry(oldEntry);\n              tokenPromise = fetchAuthTokenFromServer(appConfig, inProgressEntry);\n              return inProgressEntry;\n            }\n          })];\n\n        case 1:\n          entry = _b.sent();\n          if (!tokenPromise) return [3\n          /*break*/\n          , 3];\n          return [4\n          /*yield*/\n          , tokenPromise];\n\n        case 2:\n          _a = _b.sent();\n          return [3\n          /*break*/\n          , 4];\n\n        case 3:\n          _a = entry.authToken;\n          _b.label = 4;\n\n        case 4:\n          authToken = _a;\n          return [2\n          /*return*/\n          , authToken];\n      }\n    });\n  });\n}\n/**\r\n * Call only if FID is registered and Auth Token request is in progress.\r\n */\n\n\nfunction waitUntilAuthTokenRequest(appConfig, forceRefresh) {\n  return __awaiter(this, void 0, void 0, function () {\n    var entry, authToken;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , updateAuthTokenRequest(appConfig)];\n\n        case 1:\n          entry = _a.sent();\n          _a.label = 2;\n\n        case 2:\n          if (!(entry.authToken.requestStatus === 1\n          /* IN_PROGRESS */\n          )) return [3\n            /*break*/\n            , 5]; // generateAuthToken still in progress.\n\n          return [4\n          /*yield*/\n          , sleep(100)];\n\n        case 3:\n          // generateAuthToken still in progress.\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , updateAuthTokenRequest(appConfig)];\n\n        case 4:\n          entry = _a.sent();\n          return [3\n          /*break*/\n          , 2];\n\n        case 5:\n          authToken = entry.authToken;\n\n          if (authToken.requestStatus === 0\n          /* NOT_STARTED */\n          ) {\n              // The request timed out or failed in a different call. Try again.\n              return [2\n              /*return*/\n              , refreshAuthToken(appConfig, forceRefresh)];\n            } else {\n            return [2\n            /*return*/\n            , authToken];\n          }\n\n      }\n    });\n  });\n}\n/**\r\n * Called only if there is a GenerateAuthToken request in progress.\r\n *\r\n * Updates the InstallationEntry in the DB based on the status of the\r\n * GenerateAuthToken request.\r\n *\r\n * Returns the updated InstallationEntry.\r\n */\n\n\nfunction updateAuthTokenRequest(appConfig) {\n  return update(appConfig, function (oldEntry) {\n    if (!isEntryRegistered(oldEntry)) {\n      throw ERROR_FACTORY.create(\"not-registered\"\n      /* NOT_REGISTERED */\n      );\n    }\n\n    var oldAuthToken = oldEntry.authToken;\n\n    if (hasAuthTokenRequestTimedOut(oldAuthToken)) {\n      return __assign(__assign({}, oldEntry), {\n        authToken: {\n          requestStatus: 0\n          /* NOT_STARTED */\n\n        }\n      });\n    }\n\n    return oldEntry;\n  });\n}\n\nfunction fetchAuthTokenFromServer(appConfig, installationEntry) {\n  return __awaiter(this, void 0, void 0, function () {\n    var authToken, updatedInstallationEntry, e_1, updatedInstallationEntry;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          _a.trys.push([0, 3,, 8]);\n\n          return [4\n          /*yield*/\n          , generateAuthToken(appConfig, installationEntry)];\n\n        case 1:\n          authToken = _a.sent();\n          updatedInstallationEntry = __assign(__assign({}, installationEntry), {\n            authToken: authToken\n          });\n          return [4\n          /*yield*/\n          , set(appConfig, updatedInstallationEntry)];\n\n        case 2:\n          _a.sent();\n\n          return [2\n          /*return*/\n          , authToken];\n\n        case 3:\n          e_1 = _a.sent();\n          if (!(isServerError(e_1) && (e_1.serverCode === 401 || e_1.serverCode === 404))) return [3\n          /*break*/\n          , 5]; // Server returned a \"FID not found\" or a \"Invalid authentication\" error.\n          // Generate a new ID next time.\n\n          return [4\n          /*yield*/\n          , remove(appConfig)];\n\n        case 4:\n          // Server returned a \"FID not found\" or a \"Invalid authentication\" error.\n          // Generate a new ID next time.\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 7];\n\n        case 5:\n          updatedInstallationEntry = __assign(__assign({}, installationEntry), {\n            authToken: {\n              requestStatus: 0\n              /* NOT_STARTED */\n\n            }\n          });\n          return [4\n          /*yield*/\n          , set(appConfig, updatedInstallationEntry)];\n\n        case 6:\n          _a.sent();\n\n          _a.label = 7;\n\n        case 7:\n          throw e_1;\n\n        case 8:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nfunction isEntryRegistered(installationEntry) {\n  return installationEntry !== undefined && installationEntry.registrationStatus === 2\n  /* COMPLETED */\n  ;\n}\n\nfunction isAuthTokenValid(authToken) {\n  return authToken.requestStatus === 2\n  /* COMPLETED */\n  && !isAuthTokenExpired(authToken);\n}\n\nfunction isAuthTokenExpired(authToken) {\n  var now = Date.now();\n  return now < authToken.creationTime || authToken.creationTime + authToken.expiresIn < now + TOKEN_EXPIRATION_BUFFER;\n}\n/** Returns an updated InstallationEntry with an InProgressAuthToken. */\n\n\nfunction makeAuthTokenRequestInProgressEntry(oldEntry) {\n  var inProgressAuthToken = {\n    requestStatus: 1\n    /* IN_PROGRESS */\n    ,\n    requestTime: Date.now()\n  };\n  return __assign(__assign({}, oldEntry), {\n    authToken: inProgressAuthToken\n  });\n}\n\nfunction hasAuthTokenRequestTimedOut(authToken) {\n  return authToken.requestStatus === 1\n  /* IN_PROGRESS */\n  && authToken.requestTime + PENDING_TIMEOUT_MS < Date.now();\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction _getId(app) {\n  return __awaiter(this, void 0, void 0, function () {\n    var appConfig, _a, installationEntry, registrationPromise;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          appConfig = extractAppConfig(app);\n          return [4\n          /*yield*/\n          , getInstallationEntry(appConfig)];\n\n        case 1:\n          _a = _b.sent(), installationEntry = _a.installationEntry, registrationPromise = _a.registrationPromise;\n\n          if (registrationPromise) {\n            registrationPromise[\"catch\"](console.error);\n          } else {\n            // If the installation is already registered, update the authentication\n            // token if needed.\n            refreshAuthToken(appConfig)[\"catch\"](console.error);\n          }\n\n          return [2\n          /*return*/\n          , installationEntry.fid];\n      }\n    });\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction _getToken(app, forceRefresh) {\n  if (forceRefresh === void 0) {\n    forceRefresh = false;\n  }\n\n  return __awaiter(this, void 0, void 0, function () {\n    var appConfig, authToken;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          appConfig = extractAppConfig(app);\n          return [4\n          /*yield*/\n          , completeInstallationRegistration(appConfig)];\n\n        case 1:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , refreshAuthToken(appConfig, forceRefresh)];\n\n        case 2:\n          authToken = _a.sent();\n          return [2\n          /*return*/\n          , authToken.token];\n      }\n    });\n  });\n}\n\nfunction completeInstallationRegistration(appConfig) {\n  return __awaiter(this, void 0, void 0, function () {\n    var registrationPromise;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , getInstallationEntry(appConfig)];\n\n        case 1:\n          registrationPromise = _a.sent().registrationPromise;\n          if (!registrationPromise) return [3\n          /*break*/\n          , 3]; // A createInstallation request is in progress. Wait until it finishes.\n\n          return [4\n          /*yield*/\n          , registrationPromise];\n\n        case 2:\n          // A createInstallation request is in progress. Wait until it finishes.\n          _a.sent();\n\n          _a.label = 3;\n\n        case 3:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction deleteInstallation(appConfig, installationEntry) {\n  return __awaiter(this, void 0, void 0, function () {\n    var endpoint, headers, request, response;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          endpoint = getDeleteEndpoint(appConfig, installationEntry);\n          headers = getHeadersWithAuth(appConfig, installationEntry);\n          request = {\n            method: 'DELETE',\n            headers: headers\n          };\n          return [4\n          /*yield*/\n          , retryIfServerError(function () {\n            return fetch(endpoint, request);\n          })];\n\n        case 1:\n          response = _a.sent();\n          if (!!response.ok) return [3\n          /*break*/\n          , 3];\n          return [4\n          /*yield*/\n          , getErrorFromResponse('Delete Installation', response)];\n\n        case 2:\n          throw _a.sent();\n\n        case 3:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nfunction getDeleteEndpoint(appConfig, _a) {\n  var fid = _a.fid;\n  return getInstallationsEndpoint(appConfig) + \"/\" + fid;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction deleteInstallation$1(app) {\n  return __awaiter(this, void 0, void 0, function () {\n    var appConfig, entry;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          appConfig = extractAppConfig(app);\n          return [4\n          /*yield*/\n          , update(appConfig, function (oldEntry) {\n            if (oldEntry && oldEntry.registrationStatus === 0\n            /* NOT_STARTED */\n            ) {\n                // Delete the unregistered entry without sending a deleteInstallation request.\n                return undefined;\n              }\n\n            return oldEntry;\n          })];\n\n        case 1:\n          entry = _a.sent();\n          if (!entry) return [3\n          /*break*/\n          , 6];\n          if (!(entry.registrationStatus === 1\n          /* IN_PROGRESS */\n          )) return [3\n            /*break*/\n            , 2]; // Can't delete while trying to register.\n\n          throw ERROR_FACTORY.create(\"delete-pending-registration\"\n          /* DELETE_PENDING_REGISTRATION */\n          );\n\n        case 2:\n          if (!(entry.registrationStatus === 2\n          /* COMPLETED */\n          )) return [3\n            /*break*/\n            , 6];\n          if (!!navigator.onLine) return [3\n          /*break*/\n          , 3];\n          throw ERROR_FACTORY.create(\"app-offline\"\n          /* APP_OFFLINE */\n          );\n\n        case 3:\n          return [4\n          /*yield*/\n          , deleteInstallation(appConfig, entry)];\n\n        case 4:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , remove(appConfig)];\n\n        case 5:\n          _a.sent();\n\n          _a.label = 6;\n\n        case 6:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction registerInstallations(instance) {\n  var installationsName = 'installations';\n\n  var factoryMethod = function factoryMethod(app) {\n    // Throws if app isn't configured properly.\n    extractAppConfig(app);\n    return {\n      app: app,\n      getId: function getId() {\n        return _getId(app);\n      },\n      getToken: function getToken(forceRefresh) {\n        return _getToken(app, forceRefresh);\n      },\n      \"delete\": function _delete() {\n        return deleteInstallation$1(app);\n      }\n    };\n  };\n\n  instance.INTERNAL.registerService(installationsName, factoryMethod);\n}\n\nregisterInstallations(firebase);\nexport { registerInstallations };","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.idb = {}));\n})(this, function (exports) {\n  'use strict';\n\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function (resolve, reject) {\n      request.onsuccess = function () {\n        resolve(request.result);\n      };\n\n      request.onerror = function () {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function (resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function (value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function (prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function get() {\n          return this[targetProp][prop];\n        },\n        set: function set(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n\n      ProxyClass.prototype[prop] = function () {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n\n      ProxyClass.prototype[prop] = function () {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n\n      ProxyClass.prototype[prop] = function () {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', ['name', 'keyPath', 'multiEntry', 'unique']);\n  proxyRequestMethods(Index, '_index', IDBIndex, ['get', 'getKey', 'getAll', 'getAllKeys', 'count']);\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, ['openCursor', 'openKeyCursor']);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', ['direction', 'key', 'primaryKey', 'value']);\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, ['update', 'delete']); // proxy 'next' methods\n\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function (methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n\n    Cursor.prototype[methodName] = function () {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function () {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n\n        return promisifyRequest(cursor._request).then(function (value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function () {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function () {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', ['name', 'keyPath', 'indexNames', 'autoIncrement']);\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, ['put', 'add', 'delete', 'clear', 'get', 'getAll', 'getKey', 'getAllKeys', 'count']);\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, ['openCursor', 'openKeyCursor']);\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, ['deleteIndex']);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function (resolve, reject) {\n      idbTransaction.oncomplete = function () {\n        resolve();\n      };\n\n      idbTransaction.onerror = function () {\n        reject(idbTransaction.error);\n      };\n\n      idbTransaction.onabort = function () {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function () {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', ['objectStoreNames', 'mode']);\n  proxyMethods(Transaction, '_tx', IDBTransaction, ['abort']);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function () {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', ['name', 'version', 'objectStoreNames']);\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, ['deleteObjectStore', 'close']);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function () {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', ['name', 'version', 'objectStoreNames']);\n  proxyMethods(DB, '_db', IDBDatabase, ['close']); // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n\n  ['openCursor', 'openKeyCursor'].forEach(function (funcName) {\n    [ObjectStore, Index].forEach(function (Constructor) {\n      // Don't create iterateKeyCursor if openKeyCursor doesn't exist.\n      if (!(funcName in Constructor.prototype)) return;\n\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function () {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n\n        request.onsuccess = function () {\n          callback(request.result);\n        };\n      };\n    });\n  }); // polyfill getAll\n\n  [Index, ObjectStore].forEach(function (Constructor) {\n    if (Constructor.prototype.getAll) return;\n\n    Constructor.prototype.getAll = function (query, count) {\n      var instance = this;\n      var items = [];\n      return new Promise(function (resolve) {\n        instance.iterateCursor(query, function (cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n\n          cursor[\"continue\"]();\n        });\n      });\n    };\n  });\n\n  function openDb(name, version, upgradeCallback) {\n    var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n    var request = p.request;\n\n    if (request) {\n      request.onupgradeneeded = function (event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n    }\n\n    return p.then(function (db) {\n      return new DB(db);\n    });\n  }\n\n  function deleteDb(name) {\n    return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n  }\n\n  exports.openDb = openDb;\n  exports.deleteDb = deleteDb;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","import '@firebase/performance';"],"sourceRoot":""}